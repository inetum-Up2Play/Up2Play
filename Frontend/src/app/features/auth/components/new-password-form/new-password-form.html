<form [formGroup]="form" (ngSubmit)="onSubmit()"
    class="new-password-form max-w-xl mr-6 ml-6 p-4 md:p-8 xl:p-12 xl:mt-6 xl:mb-6" novalidate>

    <div class="Imgicono pb-6 h-28 md:h-32 xl:h-38">
        <img src="../../../../../assets/auth/new-password.svg" alt="icono">
    </div>

    <!-- TÍTULO -->
    <h1 class="text-3xl pb-8 md:text-4xl xl:text-5xl">INDICA TU NUEVA CONTRASEÑA</h1>

    <!-- NUEVA CONTRASEÑA -->
    <div class="form-field md:max-w-160 xl:max-w-175 pb-4 w-full">
        <div class="relative h-13 md:h-15">
            <input pInputText [type]="showPassword ? 'text' : 'password'" placeholder="Nueva contraseña" formControlName="newPassword"
                class="input h-13 md:h-15"
                [ngClass]="{'ng-invalid': f.newPassword.invalid && (f.newPassword.dirty || f.newPassword.touched)}" />
            <p-inputicon style="color: black" class="pi pi-lock absolute right-3 top-1/2 -translate-y-1/2" />
            <p-inputicon [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'" (click)="showPassword = !showPassword"
                class="absolute right-10 top-1/2 -translate-y-1/2 cursor-pointer text-gray-700" style="color: #F7F7F7" />
        </div>

        @if (f.newPassword.errors?.['required'] && f.newPassword.dirty && f.newPassword.value === '') {
        <p-message size="small" severity="error" variant="outlined" class="error">
            Este campo es obligatorio.
        </p-message>
        }
        @if (f.newPassword.hasError('passwordStrength')) {
        <p-message size="small" severity="error" variant="outlined" class="error">
            La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un símbolo.
        </p-message>
        }
    </div>

    <!-- CONFIRMAR CONTRASEÑA -->
    <div class="form-field md:max-w-160 xl:max-w-175 pb-4 w-full">
        <div class="relative h-13 md:h-15">
            <input pInputText [type]="showConfirmPassword ? 'text' : 'password'" placeholder="Repetir Contraseña"
                formControlName="confirmPassword" class="input h-13 md:h-15"
                [ngClass]="{ 'ng-invalid': f.confirmPassword.invalid && (f.confirmPassword.dirty || f.confirmPassword.touched) }" />
            <p-inputicon style="color: black" class="pi pi-arrow-right-arrow-left absolute right-3 top-1/2 -translate-y-1/2" />
            <p-inputicon [class]="showConfirmPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"
                (click)="showConfirmPassword = !showConfirmPassword"
                class="absolute right-10 top-1/2 -translate-y-1/2 cursor-pointer" style="color: #F7F7F7"/>
        </div>

        @if (f.newPassword.errors?.['required'] && f.newPassword.dirty && f.newPassword.value === '') {
        <p-message size="small" severity="error" variant="outlined" class="error">
            Este campo es obligatorio.
        </p-message>
        }
        @if (form.hasError('passwordsMismatch')) {
        <p-message size="small" severity="error" variant="outlined" class="error">
            Las contraseñas no coinciden.
        </p-message>
        }
    </div>

    <!-- BOTÓN -->
    <button pButton type="submit" class="btn h-13 md:h-15" size="large" [disabled]="form.invalid">
        Guardar nueva contraseña
    </button>
</form>