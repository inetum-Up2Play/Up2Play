<div class="max-w-7xl m-4 py-4 px-6 md:m-6 md:py-6 md:px-8 lg:m-8 lg:py-8 lg:px-10 bg-white rounded-lg shadow">
    <h2 class="text-2xl font-bold text-left mb-6">Mi información</h2>

    <form [formGroup]="formulario" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Columna 1 -->
        <div class="flex flex-col gap-4">
            <div>
                <label for="nombre" class="block mb-1 font-semibold">Nombre</label>
                <input id="nombre" type="text" pInputText formControlName="nombre" class="w-full" />

                @if (formulario.get('nombre')?.invalid && formulario.get('nombre')?.touched) {
                <p-message severity="error" size="small" variant="simple" text="El nombre es obligatorio"></p-message>
                }

            </div>
            <div class="card flex flex-col justify-center">
                <label for="idiomas" class="block mb-1 font-semibold">Idiomas</label>
                <p-multiselect formControlName="idiomas" [options]="groupedCities" placeholder="¿Qué idiomas hablas?"
                    [maxSelectedLabels]="3" [group]="true" class="w-full">
                    <ng-template let-group #group>
                        <div class="flex items-center">
                            <img [src]="'https://flagcdn.com/' + group.value.toLowerCase() + '.svg'" class="mr-2"
                                style="width: 20px" />

                            <span>{{ group.label }}</span>
                        </div>
                    </ng-template>
                </p-multiselect>
            </div>
            <div>
                <label for="sexo" class="block mb-1 font-semibold">Sexo</label>
                <p-select [options]="sexos" optionLabel="name" id="sexo" formControlName="sexo" class="w-full" />
            </div>
            <div>
                <label for="email" class="block mb-1 font-semibold">Correo electrónico</label>
                <input id="email" type="email" pInputText formControlName="email" class="w-full" />
            </div>
        </div>

        <!-- Columna 2 -->
        <div class="flex flex-col gap-4">
            <div>
                <label for="apellidos" class="block mb-1 font-semibold">Apellidos</label>
                <input id="apellidos" type="text" pInputText formControlName="apellidos" class="w-full" />

                @if (formulario.get('apellidos')?.invalid && formulario.get('apellidos')?.touched) {
                <p-message severity="error" size="small" variant="simple"
                    text="Los apellidos son obligatorios"></p-message>
                }

            </div>
            <div>
                <label for="fechaNacimiento" class="block mb-1 font-semibold">Fecha de nacimiento</label>
                <p-datepicker dateFormat="dd/mm/yy" id="fechaNacimiento" formControlName="fechaNacimiento"
                    class="w-full" />
            </div>
            <div>
                <label for="telefono" class="block mb-1 font-semibold">Teléfono</label>
                <input id="telefono" type="tel" pInputText formControlName="telefono" class="w-full"
                    placeholder="+34 600 123 456" />
                <p-message *ngIf="formulario.get('telefono')?.invalid && formulario.get('telefono')?.touched"
                    severity="error" text="Formato de teléfono inválido"></p-message>
            </div>
            <div>
                <label for="password" class="block mb-1 font-semibold">Contraseña</label>
                <p-iconfield>
                    <input id="password" type="password" pInputText formControlName="password" class="w-full" />
                    <p-inputicon class="pi pi-pencil" />
                </p-iconfield>
            </div>
        </div>

        <!-- Botón -->
        <div class="col-span-1 md:col-span-2 text-center md:mt-2 mb-2">
            <button pButton type="submit" label="Guardar cambios" class="btn-guardarCambios"></button>
        </div>
    </form>
</div>