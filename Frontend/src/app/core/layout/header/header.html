<header #menuSuperior class="fixed top-0 w-full z-[20]" role="banner Superior">
    <p-menubar styleClass="contenedor-menubar !border-none !rounded-none" [model]="[]">
        <p-drawer
            styleClass="drawer m-6 !w-55 md:!w-80 !top-[var(--header-h)] !h-[calc(75%)] !rounded-border !border-emerald-700/0"
            #drawerRef [(visible)]="visible" [style]="{ 'top': 'var(--header-h)' }" role="dialog" aria-modal="true"
            aria-labelledby="menu-title" cdkFocusInitial>
            <ng-template #headless>
                <div class="flex flex-col">
                    <nav aria-label="Menú principal" class="overflow-y-auto menu-items">
                        <h2 class="pl-6 pt-6 text-2xl font-extrabold">Menú</h2>
                        <ul class="list-none pt-4 pl-6 m-0">
                            @for (item of items; track item.route ?? item.label) {
                            <li>
                                @if (item.route) {
                                <a pRipple [routerLink]="item.route" [class.active]="isActive(item.route)"
                                    class="flex items-center p-4 rounded-border duration-150 p-ripple">
                                    <i class="{{ item.icon }} mr-2" aria-hidden="true"></i>
                                    <span class="font-extrabold">{{ item.label }}</span>
                                </a>
                                } @else {
                                <button styleClass="boton-header" pRipple type="button"
                                    class="flex items-center w-full text-left p-4 rounded-border text-surface-700 dark:text-surface-100 hover:bg-surface-100 dark:hover:bg-surface-700 transition-colors duration-150 p-ripple">
                                    <i class="{{ item.icon }} mr-2" aria-hidden="true"></i>
                                    <span class="font-medium">{{ item.label }}</span>
                                </button>
                                }
                            </li>
                            }
                        </ul>
                    </nav>
                </div>
            </ng-template>
        </p-drawer>
        <ng-template #start>
            <div class="flex items-center md:pl-15 gap-5 xl:gap-10 aspect-3/1v min-w-36">
                <p-button (click)="visible = true" icon="pi pi-bars"
                    styleClass="!bg-emerald-700/0 !border-emerald-700/0 boton-hamburguesa"
                    [attr.aria-label]="'Abrir menú de navegación'" />
                <img class="logo h-10" src="../../../../assets/logo/fondo-oscuro/verdeClaro-FondoOscuro.png"
                    alt="Up2Play" routerLink="/" aria-label="Ir a la página principal" />
            </div>
        </ng-template>

        <ng-template #end>
            <div class="card flex w-full justify-end md:pr-15">
                <p-menu #menu [model]="avatarItems()" appendTo="body" styleClass="mobile-menu layout-menu"
                    [popup]="true"></p-menu>

                <button
                    class="rounded px-3 py-5  text-white transition-colors flex items-center gap-2"
                    (click)="toggleSnow()" aria-label="Empezar nieve">
                    <!-- Copo de nieve SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                            d="M12 2v20M4.5 7.5l15 9M4.5 16.5l15-9M2 12h20M7.5 4.5l9 15M16.5 4.5l-9 15" />
                    </svg>
                </button>

                    <!-- Abres el menú con el avatar -->
                    <p-avatar (click)="menu.toggle($event)" [image]="perfilService.avatarGlobal() | avatarImg"
                        shape="circle" style="cursor: pointer" size="large" [attr.aria-label]="'Abrir menú de usuario'">
                    </p-avatar>
            </div>
        </ng-template>
    </p-menubar>
</header>